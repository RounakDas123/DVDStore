{"ast":null,"code":"import React,{useEffect}from\"react\";import{BsCart4}from\"react-icons/bs\";import{useDispatch,useSelector}from\"react-redux\";import{useHistory,useLocation}from\"react-router-dom\";import classes from\"./MainNavigation.module.css\";import{cardbuttonsActions}from\"../../../store\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Cartnavbutton(){const history=useHistory();const location=useLocation();const dispatch=useDispatch();const isActive=location.pathname===\"/cart\";const changeBadgeValue=useSelector(state=>state.cardbuttons.cartCounter);// Fetch and dispatch the cart size only when localStorage changes\nuseEffect(()=>{const cartSize=Number(localStorage.getItem(\"cartSize\"))||0;dispatch(cardbuttonsActions.setInitialValue({type:\"cart\",value:cartSize}));},[dispatch]);const openCart=()=>{history.push(\"/cart\");};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(BsCart4,{className:`${isActive?classes[\"cartnav-active\"]:classes.cartnav}`,onClick:openCart}),/*#__PURE__*/_jsx(\"span\",{className:classes[\"icon-buttonbadge\"],children:changeBadgeValue})]});}export default Cartnavbutton;","map":{"version":3,"names":["React","useEffect","BsCart4","useDispatch","useSelector","useHistory","useLocation","classes","cardbuttonsActions","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Cartnavbutton","history","location","dispatch","isActive","pathname","changeBadgeValue","state","cardbuttons","cartCounter","cartSize","Number","localStorage","getItem","setInitialValue","type","value","openCart","push","children","className","cartnav","onClick"],"sources":["C:/Users/dasru/Documents/DVDStore_dev/frontend/src/shared/components/navigation/Cartnavbutton.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { BsCart4 } from \"react-icons/bs\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\nimport classes from \"./MainNavigation.module.css\";\r\nimport { cardbuttonsActions } from \"../../../store\";\r\n\r\nfunction Cartnavbutton() {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n  const isActive = location.pathname === \"/cart\";\r\n\r\n  const changeBadgeValue = useSelector(\r\n    (state) => state.cardbuttons.cartCounter\r\n  );\r\n\r\n  // Fetch and dispatch the cart size only when localStorage changes\r\n  useEffect(() => {\r\n    const cartSize = Number(localStorage.getItem(\"cartSize\")) || 0;\r\n    dispatch(\r\n      cardbuttonsActions.setInitialValue({\r\n        type: \"cart\",\r\n        value: cartSize,\r\n      })\r\n    );\r\n  }, [dispatch]);\r\n\r\n  const openCart = () => {\r\n    history.push(\"/cart\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <BsCart4\r\n        className={`${isActive ? classes[\"cartnav-active\"] : classes.cartnav}`}\r\n        onClick={openCart}\r\n      />\r\n      <span className={classes[\"icon-buttonbadge\"]}>{changeBadgeValue}</span>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Cartnavbutton;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,OAAO,KAAQ,gBAAgB,CACxC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,UAAU,CAAEC,WAAW,KAAQ,kBAAkB,CAE1D,MAAO,CAAAC,OAAO,KAAM,6BAA6B,CACjD,OAASC,kBAAkB,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpD,QAAS,CAAAC,aAAaA,CAAA,CAAG,CACvB,KAAM,CAAAC,OAAO,CAAGX,UAAU,CAAC,CAAC,CAC5B,KAAM,CAAAY,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAY,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAgB,QAAQ,CAAGF,QAAQ,CAACG,QAAQ,GAAK,OAAO,CAE9C,KAAM,CAAAC,gBAAgB,CAAGjB,WAAW,CACjCkB,KAAK,EAAKA,KAAK,CAACC,WAAW,CAACC,WAC/B,CAAC,CAED;AACAvB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAwB,QAAQ,CAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,EAAI,CAAC,CAC9DV,QAAQ,CACNV,kBAAkB,CAACqB,eAAe,CAAC,CACjCC,IAAI,CAAE,MAAM,CACZC,KAAK,CAAEN,QACT,CAAC,CACH,CAAC,CACH,CAAC,CAAE,CAACP,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAc,QAAQ,CAAGA,CAAA,GAAM,CACrBhB,OAAO,CAACiB,IAAI,CAAC,OAAO,CAAC,CACvB,CAAC,CAED,mBACEnB,KAAA,CAAAF,SAAA,EAAAsB,QAAA,eACExB,IAAA,CAACR,OAAO,EACNiC,SAAS,CAAE,GAAGhB,QAAQ,CAAGZ,OAAO,CAAC,gBAAgB,CAAC,CAAGA,OAAO,CAAC6B,OAAO,EAAG,CACvEC,OAAO,CAAEL,QAAS,CACnB,CAAC,cACFtB,IAAA,SAAMyB,SAAS,CAAE5B,OAAO,CAAC,kBAAkB,CAAE,CAAA2B,QAAA,CAAEb,gBAAgB,CAAO,CAAC,EACvE,CAAC,CAEP,CAEA,cAAe,CAAAN,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
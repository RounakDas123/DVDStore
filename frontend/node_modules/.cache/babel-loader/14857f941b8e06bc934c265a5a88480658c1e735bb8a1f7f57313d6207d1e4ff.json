{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dasru\\\\Documents\\\\DVDStore_dev\\\\frontend\\\\src\\\\home\\\\pages\\\\DetailsModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport classes from \"./Home.module.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DetailsModal = ({\n  movieId,\n  type,\n  modalType,\n  onClose\n}) => {\n  _s();\n  var _details$videos;\n  const [details, setDetails] = useState({});\n  const [loader, setLoader] = useState(true);\n  useEffect(() => {\n    if (movieId && type) {\n      fetch(`https://api.themoviedb.org/3/${type}/${movieId}?append_to_response=videos&api_key=d987bb3825166942aa314c4768160995`).then(res => res.json()).then(json => setDetails(json));\n      setLoader(false);\n    }\n  }, [movieId, type]);\n  if (!movieId) return null;\n  let genreNames = \"\";\n  let video = {};\n  if (Object.keys(details).length > 0 && details.genres && (_details$videos = details.videos) !== null && _details$videos !== void 0 && _details$videos.results) {\n    genreNames = details.genres.map(genre => genre.name).join(\", \");\n    video = details.videos.results.find(data => data.type === \"Trailer\" && data.site === \"YouTube\");\n  }\n  return /*#__PURE__*/createPortal(/*#__PURE__*/_jsxDEV(\"dialog\", {\n    open: true,\n    className: classes.infoModal,\n    children: loader ? /*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"./loader.svg\",\n      style: {\n        width: \"370\",\n        height: \"290\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [video ? /*#__PURE__*/_jsxDEV(\"iframe\", {\n        width: \"370\",\n        height: \"290\",\n        src: `https://www.youtube.com/embed/${video.key}?enablejsapi=1`,\n        title: video.name,\n        frameBorder: \"0\",\n        allow: \"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n        allowFullScreen: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"./this-video-is-unavailable.jpg\",\n        style: {\n          width: \"370\",\n          height: \"290\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: details[\"original_title\"]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Overview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: details.overview\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Genre(s)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: genreNames\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this), document.getElementById(\"modal\"));\n};\n_s(DetailsModal, \"bDYzP5RfR9bkxbiYcUqVmwm9vBs=\");\n_c = DetailsModal;\nexport default DetailsModal;\nvar _c;\n$RefreshReg$(_c, \"DetailsModal\");","map":{"version":3,"names":["React","useState","useEffect","createPortal","classes","jsxDEV","_jsxDEV","Fragment","_Fragment","DetailsModal","movieId","type","modalType","onClose","_s","_details$videos","details","setDetails","loader","setLoader","fetch","then","res","json","genreNames","video","Object","keys","length","genres","videos","results","map","genre","name","join","find","data","site","open","className","infoModal","children","src","style","width","height","fileName","_jsxFileName","lineNumber","columnNumber","key","title","frameBorder","allow","allowFullScreen","overview","onClick","document","getElementById","_c","$RefreshReg$"],"sources":["C:/Users/dasru/Documents/DVDStore_dev/frontend/src/home/pages/DetailsModal.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport classes from \"./Home.module.css\";\r\n\r\nconst DetailsModal = ({ movieId, type, modalType, onClose }) => {\r\n  const [details, setDetails] = useState({});\r\n  const [loader, setLoader] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (movieId && type) {\r\n      fetch(`https://api.themoviedb.org/3/${type}/${movieId}?append_to_response=videos&api_key=d987bb3825166942aa314c4768160995`)\r\n        .then((res) => res.json())\r\n        .then((json) => setDetails(json));\r\n      setLoader(false);\r\n    }\r\n  }, [movieId, type]);\r\n\r\n  if (!movieId) return null;\r\n\r\n  let genreNames = \"\";\r\n  let video = {};\r\n\r\n  if (Object.keys(details).length > 0 && details.genres && details.videos?.results) {\r\n    genreNames = details.genres.map((genre) => genre.name).join(\", \");\r\n    video = details.videos.results.find((data) => data.type === \"Trailer\" && data.site === \"YouTube\");\r\n  }\r\n\r\n  return createPortal(\r\n    <dialog open className={classes.infoModal}>\r\n      {loader ? (\r\n        <img src=\"./loader.svg\" style={{ width: \"370\", height: \"290\" }} />\r\n      ) : (\r\n        <>\r\n          {video ? (\r\n            <iframe\r\n              width=\"370\"\r\n              height=\"290\"\r\n              src={`https://www.youtube.com/embed/${video.key}?enablejsapi=1`}\r\n              title={video.name}\r\n              frameBorder=\"0\"\r\n              allow=\"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n              allowFullScreen\r\n            ></iframe>\r\n          ) : (\r\n            <img src=\"./this-video-is-unavailable.jpg\" style={{ width: \"370\", height: \"290\" }} />\r\n          )}\r\n          <h2>{details[\"original_title\"]}</h2>\r\n          <h4>Overview</h4>\r\n          <p>{details.overview}</p>\r\n          <h4>Genre(s)</h4>\r\n          <p>{genreNames}</p>\r\n          <button onClick={onClose}>Close</button>\r\n        </>\r\n      )}\r\n    </dialog>,\r\n    document.getElementById(\"modal\")\r\n  );\r\n};\r\n\r\nexport default DetailsModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
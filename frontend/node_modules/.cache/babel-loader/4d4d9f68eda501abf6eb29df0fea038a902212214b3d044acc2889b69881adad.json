{"ast":null,"code":"import React from\"react\";import{FaUserAlt}from\"react-icons/fa\";import{VscSignOut}from\"react-icons/vsc\";import{useDispatch}from\"react-redux\";import{Link,useHistory}from\"react-router-dom\";import{toast}from\"react-toastify\";import{cardbuttonsActions,userInfoActions,wishlistCartActions}from\"../../../store\";import classes from\"./DropDownProfile.module.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function DropDownProfile(_ref){let{onClick}=_ref;const history=useHistory();const dispatch=useDispatch();const handleLogout=()=>{onClick();// Close the dropdown\ntoast.success(\"You have successfully logged out!\",{position:\"top-center\",autoClose:3000,hideProgressBar:false,closeOnClick:true,pauseOnHover:false,draggable:false});dispatch(userInfoActions.setUserInfo({user:{},token:null}));dispatch(cardbuttonsActions.setInitialValue({type:\"wishlist\",value:0}));dispatch(cardbuttonsActions.setInitialValue({type:\"cart\",value:0}));dispatch(wishlistCartActions.setInitialValue({type:\"wishlist\",value:[]}));dispatch(wishlistCartActions.setInitialValue({type:\"cart\",value:[]}));localStorage.removeItem(\"userinfo\");localStorage.removeItem(\"token\");localStorage.removeItem(\"wishlistSize\");localStorage.removeItem(\"cartSize\");localStorage.removeItem(\"wishlist\");localStorage.removeItem(\"cart\");history.push(\"/\");};return/*#__PURE__*/_jsx(\"div\",{className:classes.dropdown,children:/*#__PURE__*/_jsxs(\"ul\",{className:classes.list,children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/edit-profile\",className:classes[\"sub-menu-link\"],onClick:onClick,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.icon,children:/*#__PURE__*/_jsx(FaUserAlt,{})}),/*#__PURE__*/_jsx(\"p\",{children:\"Edit Profile\"}),/*#__PURE__*/_jsx(\"span\",{children:\">\"})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"#\",className:classes[\"sub-menu-link\"],onClick:handleLogout,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.icon,children:/*#__PURE__*/_jsx(VscSignOut,{})}),/*#__PURE__*/_jsx(\"p\",{children:\"Logout\"}),/*#__PURE__*/_jsx(\"span\",{children:\">\"})]})})]})});}export default DropDownProfile;","map":{"version":3,"names":["React","FaUserAlt","VscSignOut","useDispatch","Link","useHistory","toast","cardbuttonsActions","userInfoActions","wishlistCartActions","classes","jsx","_jsx","jsxs","_jsxs","DropDownProfile","_ref","onClick","history","dispatch","handleLogout","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","setUserInfo","user","token","setInitialValue","type","value","localStorage","removeItem","push","className","dropdown","children","list","to","icon","href"],"sources":["C:/Users/dasru/Documents/DVDStore_dev/frontend/src/shared/components/navigation/DropDownProfile.js"],"sourcesContent":["import React from \"react\";\r\nimport { FaUserAlt } from \"react-icons/fa\";\r\nimport { VscSignOut } from \"react-icons/vsc\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport {\r\n  cardbuttonsActions,\r\n  userInfoActions,\r\n  wishlistCartActions,\r\n} from \"../../../store\";\r\nimport classes from \"./DropDownProfile.module.css\";\r\n\r\nfunction DropDownProfile({ onClick }) {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const handleLogout = () => {\r\n    onClick(); // Close the dropdown\r\n    toast.success(\"You have successfully logged out!\", {\r\n      position: \"top-center\",\r\n      autoClose: 3000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: false,\r\n      draggable: false,\r\n    });\r\n    dispatch(\r\n      userInfoActions.setUserInfo({\r\n        user: {},\r\n        token: null,\r\n      })\r\n    );\r\n    dispatch(\r\n      cardbuttonsActions.setInitialValue({\r\n        type: \"wishlist\",\r\n        value: 0,\r\n      })\r\n    );\r\n    dispatch(\r\n      cardbuttonsActions.setInitialValue({\r\n        type: \"cart\",\r\n        value: 0,\r\n      })\r\n    );\r\n    dispatch(\r\n      wishlistCartActions.setInitialValue({\r\n        type: \"wishlist\",\r\n        value: [],\r\n      })\r\n    );\r\n    dispatch(\r\n      wishlistCartActions.setInitialValue({\r\n        type: \"cart\",\r\n        value: [],\r\n      })\r\n    );\r\n\r\n    localStorage.removeItem(\"userinfo\");\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"wishlistSize\");\r\n    localStorage.removeItem(\"cartSize\");\r\n    localStorage.removeItem(\"wishlist\");\r\n    localStorage.removeItem(\"cart\");\r\n\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className={classes.dropdown}>\r\n      <ul className={classes.list}>\r\n        <li>\r\n          <Link\r\n            to=\"/edit-profile\"\r\n            className={classes[\"sub-menu-link\"]}\r\n            onClick={onClick}\r\n          >\r\n            <div className={classes.icon}>\r\n              <FaUserAlt />\r\n            </div>\r\n            <p>Edit Profile</p>\r\n            <span>{\">\"}</span>\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <a\r\n            href=\"#\"\r\n            className={classes[\"sub-menu-link\"]}\r\n            onClick={handleLogout}\r\n          >\r\n            <div className={classes.icon}>\r\n              <VscSignOut />\r\n            </div>\r\n            <p>Logout</p>\r\n            <span>{\">\"}</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DropDownProfile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
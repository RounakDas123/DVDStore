{"ast":null,"code":"import{motion}from\"framer-motion\";import React,{useRef,useState}from\"react\";import{IoMdCart}from\"react-icons/io\";import{LuRefreshCw}from\"react-icons/lu\";import{MdDeleteForever}from\"react-icons/md\";import{TbCurrencyRupee}from\"react-icons/tb\";import ConfirmationModal from\"../components/ConfirmationModal\";import classes from\"./Wishlist.module.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Wishlist=()=>{const userId=Number(JSON.parse(localStorage.getItem(\"userinfo\")).id);const token=localStorage.getItem(\"token\");const[selectedItem,setSelectedItem]=useState(null);// To store the clicked item for modal\nconst[actionType,setActionType]=useState(\"\");// To determine the modal context\nconst[wishlist,setWishlist]=useState(JSON.parse(localStorage.getItem(\"wishlist\"))||[]);const modalRef=useRef();const handleCartClick=item=>{setSelectedItem(item);// Set the selected item for modal\nsetActionType(\"cart\");if(modalRef.current)modalRef.current.open();// Open the modal\n};const handleDeleteClick=item=>{setSelectedItem(item);// Set the selected item for modal\nsetActionType(\"delete\");if(modalRef.current)modalRef.current.open();// Open the modal\n};const handleWishlistUpdate=()=>{const updatedWishlist=JSON.parse(localStorage.getItem(\"wishlist\"))||[];setWishlist(updatedWishlist);};const itemVariants={hidden:{opacity:0,x:50},// Start with opacity 0 and move from the right\nvisible:i=>({opacity:1,x:0,transition:{delay:i*0.2,type:\"spring\",stiffness:100}})};return/*#__PURE__*/_jsxs(\"div\",{className:classes.wishlistContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.header,children:/*#__PURE__*/_jsxs(\"button\",{className:classes.refreshButton,onClick:handleWishlistUpdate,children:[/*#__PURE__*/_jsx(LuRefreshCw,{}),\" Refresh\"]})}),wishlist.length===0?/*#__PURE__*/_jsx(\"div\",{className:classes.emptyMessage,children:\"Wishlist is empty! Please add something!\"}):/*#__PURE__*/_jsx(\"div\",{className:classes.wishlist,children:wishlist.map((item,index)=>/*#__PURE__*/_jsxs(motion.div,{className:classes.wishlistItem,custom:index// Pass the index for staggered animation\n,initial:\"hidden\",animate:\"visible\",variants:itemVariants,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.type,children:item.type.toUpperCase()}),/*#__PURE__*/_jsx(\"div\",{className:classes.title,children:item.title}),/*#__PURE__*/_jsxs(\"div\",{className:classes.price,children:[/*#__PURE__*/_jsx(TbCurrencyRupee,{}),item.price]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.actions,children:[/*#__PURE__*/_jsx(IoMdCart,{className:classes.icon,onClick:()=>handleCartClick(item)}),/*#__PURE__*/_jsx(MdDeleteForever,{className:classes.icon,onClick:()=>handleDeleteClick(item)})]})]},item.id))}),/*#__PURE__*/_jsx(ConfirmationModal,{ref:modalRef,item:selectedItem,userId:userId,token:token,onWishlistUpdate:handleWishlistUpdate,actionType:actionType})]});};export default Wishlist;","map":{"version":3,"names":["motion","React","useRef","useState","IoMdCart","LuRefreshCw","MdDeleteForever","TbCurrencyRupee","ConfirmationModal","classes","jsx","_jsx","jsxs","_jsxs","Wishlist","userId","Number","JSON","parse","localStorage","getItem","id","token","selectedItem","setSelectedItem","actionType","setActionType","wishlist","setWishlist","modalRef","handleCartClick","item","current","open","handleDeleteClick","handleWishlistUpdate","updatedWishlist","itemVariants","hidden","opacity","x","visible","i","transition","delay","type","stiffness","className","wishlistContainer","children","header","refreshButton","onClick","length","emptyMessage","map","index","div","wishlistItem","custom","initial","animate","variants","toUpperCase","title","price","actions","icon","ref","onWishlistUpdate"],"sources":["C:/Users/dasru/Documents/DVDStore_dev/frontend/src/wishlist/pages/Wishlist.js"],"sourcesContent":["import { motion } from \"framer-motion\";\r\nimport React, { useRef, useState } from \"react\";\r\nimport { IoMdCart } from \"react-icons/io\";\r\nimport { LuRefreshCw } from \"react-icons/lu\";\r\nimport { MdDeleteForever } from \"react-icons/md\";\r\nimport { TbCurrencyRupee } from \"react-icons/tb\";\r\n\r\nimport ConfirmationModal from \"../components/ConfirmationModal\";\r\nimport classes from \"./Wishlist.module.css\";\r\n\r\nconst Wishlist = () => {\r\n  const userId = Number(JSON.parse(localStorage.getItem(\"userinfo\")).id);\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  const [selectedItem, setSelectedItem] = useState(null); // To store the clicked item for modal\r\n  const [actionType, setActionType] = useState(\"\"); // To determine the modal context\r\n  const [wishlist, setWishlist] = useState(\r\n    JSON.parse(localStorage.getItem(\"wishlist\")) || []\r\n  );\r\n  const modalRef = useRef();\r\n\r\n  const handleCartClick = (item) => {\r\n    setSelectedItem(item); // Set the selected item for modal\r\n    setActionType(\"cart\");\r\n    if (modalRef.current) modalRef.current.open(); // Open the modal\r\n  };\r\n\r\n  const handleDeleteClick = (item) => {\r\n    setSelectedItem(item); // Set the selected item for modal\r\n    setActionType(\"delete\");\r\n    if (modalRef.current) modalRef.current.open(); // Open the modal\r\n  };\r\n\r\n  const handleWishlistUpdate = () => {\r\n    const updatedWishlist = JSON.parse(localStorage.getItem(\"wishlist\")) || [];\r\n    setWishlist(updatedWishlist);\r\n  };\r\n\r\n  const itemVariants = {\r\n    hidden: { opacity: 0, x: 50 }, // Start with opacity 0 and move from the right\r\n    visible: (i) => ({\r\n      opacity: 1,\r\n      x: 0,\r\n      transition: { delay: i * 0.2, type: \"spring\", stiffness: 100 },\r\n    }),\r\n  };\r\n\r\n  return (\r\n    <div className={classes.wishlistContainer}>\r\n      <div className={classes.header}>\r\n        <button\r\n          className={classes.refreshButton}\r\n          onClick={handleWishlistUpdate}\r\n        >\r\n          <LuRefreshCw /> Refresh\r\n        </button>\r\n      </div>\r\n      {wishlist.length === 0 ? (\r\n        <div className={classes.emptyMessage}>\r\n          Wishlist is empty! Please add something!\r\n        </div>\r\n      ) : (\r\n        <div className={classes.wishlist}>\r\n          {wishlist.map((item, index) => (\r\n            <motion.div\r\n              className={classes.wishlistItem}\r\n              key={item.id}\r\n              custom={index} // Pass the index for staggered animation\r\n              initial=\"hidden\"\r\n              animate=\"visible\"\r\n              variants={itemVariants}\r\n            >\r\n              <div className={classes.type}>{item.type.toUpperCase()}</div>\r\n              <div className={classes.title}>{item.title}</div>\r\n              <div className={classes.price}>\r\n                <TbCurrencyRupee />\r\n                {item.price}\r\n              </div>\r\n              <div className={classes.actions}>\r\n                <IoMdCart\r\n                  className={classes.icon}\r\n                  onClick={() => handleCartClick(item)}\r\n                />\r\n                <MdDeleteForever\r\n                  className={classes.icon}\r\n                  onClick={() => handleDeleteClick(item)}\r\n                />\r\n              </div>\r\n            </motion.div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      <ConfirmationModal\r\n        ref={modalRef}\r\n        item={selectedItem}\r\n        userId={userId}\r\n        token={token}\r\n        onWishlistUpdate={handleWishlistUpdate}\r\n        actionType={actionType}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wishlist;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
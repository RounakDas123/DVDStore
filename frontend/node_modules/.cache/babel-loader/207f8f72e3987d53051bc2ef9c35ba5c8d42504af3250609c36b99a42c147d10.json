{"ast":null,"code":"import{jwtDecode}from\"jwt-decode\";import React from\"react\";import{Redirect,Route}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";const isAuthenticated=()=>{const token=localStorage.getItem(\"token\");if(!token)return false;try{const decodedToken=jwtDecode(token);const currentTime=Date.now()/1000;// Convert milliseconds to seconds\nreturn decodedToken.exp>currentTime;// Check if the token is expired\n}catch(error){return false;}};const PrivateRoute=_ref=>{let{component:Component,...rest}=_ref;return/*#__PURE__*/_jsx(Route,{...rest,render:props=>isAuthenticated()?/*#__PURE__*/_jsx(Component,{...props}):/*#__PURE__*/_jsx(Redirect,{to:\"/\"})});};export default PrivateRoute;","map":{"version":3,"names":["jwtDecode","React","Redirect","Route","jsx","_jsx","isAuthenticated","token","localStorage","getItem","decodedToken","currentTime","Date","now","exp","error","PrivateRoute","_ref","component","Component","rest","render","props","to"],"sources":["C:/Users/dasru/Documents/DVDStore_dev/frontend/src/PrivateRoute.js"],"sourcesContent":["import { jwtDecode } from \"jwt-decode\";\r\nimport React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nconst isAuthenticated = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (!token) return false;\r\n\r\n  try {\r\n    const decodedToken = jwtDecode(token);\r\n    const currentTime = Date.now() / 1000; // Convert milliseconds to seconds\r\n    return decodedToken.exp > currentTime; // Check if the token is expired\r\n  } catch (error) {\r\n    return false;\r\n  }\r\n};\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isAuthenticated() ? <Component {...props} /> : <Redirect to=\"/\" />\r\n    }\r\n  />\r\n);\r\n\r\nexport default PrivateRoute;\r\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,YAAY,CACtC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,KAAK,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEnD,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,MAAO,MAAK,CAExB,GAAI,CACF,KAAM,CAAAG,YAAY,CAAGV,SAAS,CAACO,KAAK,CAAC,CACrC,KAAM,CAAAI,WAAW,CAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAG,IAAI,CAAE;AACvC,MAAO,CAAAH,YAAY,CAACI,GAAG,CAAGH,WAAW,CAAE;AACzC,CAAE,MAAOI,KAAK,CAAE,CACd,MAAO,MAAK,CACd,CACF,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGC,IAAA,MAAC,CAAEC,SAAS,CAAEC,SAAS,CAAE,GAAGC,IAAK,CAAC,CAAAH,IAAA,oBACrDZ,IAAA,CAACF,KAAK,KACAiB,IAAI,CACRC,MAAM,CAAGC,KAAK,EACZhB,eAAe,CAAC,CAAC,cAAGD,IAAA,CAACc,SAAS,KAAKG,KAAK,CAAG,CAAC,cAAGjB,IAAA,CAACH,QAAQ,EAACqB,EAAE,CAAC,GAAG,CAAE,CAClE,CACF,CAAC,EACH,CAED,cAAe,CAAAP,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
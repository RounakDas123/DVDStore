{"ast":null,"code":"import React,{useEffect}from\"react\";import{TfiViewListAlt}from\"react-icons/tfi\";import{useDispatch,useSelector}from\"react-redux\";import{useHistory,useLocation}from\"react-router-dom\";import classes from\"./MainNavigation.module.css\";import{cardbuttonsActions}from\"../../../store\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Wishlistnavbutton(){const history=useHistory();const location=useLocation();const dispatch=useDispatch();const isActive=location.pathname===\"/wishlist\";const changeBadgeValue=useSelector(state=>state.cardbuttons.wishlistCounter);// Fetch and dispatch the wishlist size only when localStorage changes\nuseEffect(()=>{const wishlistSize=Number(localStorage.getItem(\"wishlistSize\"))||0;dispatch(cardbuttonsActions.setInitialValue({type:\"wishlist\",value:wishlistSize}));},[dispatch]);const openWishlist=()=>{history.push(\"/wishlist\");};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TfiViewListAlt,{className:`${isActive?classes[\"wishlistnav-active\"]:classes.wishlistnav}`,onClick:openWishlist}),/*#__PURE__*/_jsx(\"span\",{className:classes[\"icon-buttonbadge\"],children:changeBadgeValue})]});}export default Wishlistnavbutton;","map":{"version":3,"names":["React","useEffect","TfiViewListAlt","useDispatch","useSelector","useHistory","useLocation","classes","cardbuttonsActions","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Wishlistnavbutton","history","location","dispatch","isActive","pathname","changeBadgeValue","state","cardbuttons","wishlistCounter","wishlistSize","Number","localStorage","getItem","setInitialValue","type","value","openWishlist","push","children","className","wishlistnav","onClick"],"sources":["C:/Users/dasru/Documents/DVDStore_dev/frontend/src/shared/components/navigation/Wishlistnavbutton.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { TfiViewListAlt } from \"react-icons/tfi\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\nimport classes from \"./MainNavigation.module.css\";\r\nimport { cardbuttonsActions } from \"../../../store\";\r\n\r\nfunction Wishlistnavbutton() {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n  const isActive = location.pathname === \"/wishlist\";\r\n\r\n  const changeBadgeValue = useSelector(\r\n    (state) => state.cardbuttons.wishlistCounter\r\n  );\r\n\r\n  // Fetch and dispatch the wishlist size only when localStorage changes\r\n  useEffect(() => {\r\n    const wishlistSize = Number(localStorage.getItem(\"wishlistSize\")) || 0;\r\n    dispatch(\r\n      cardbuttonsActions.setInitialValue({\r\n        type: \"wishlist\",\r\n        value: wishlistSize,\r\n      })\r\n    );\r\n  }, [dispatch]);\r\n\r\n  const openWishlist = () => {\r\n    history.push(\"/wishlist\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <TfiViewListAlt\r\n        className={`${\r\n          isActive ? classes[\"wishlistnav-active\"] : classes.wishlistnav\r\n        }`}\r\n        onClick={openWishlist}\r\n      />\r\n      <span className={classes[\"icon-buttonbadge\"]}>{changeBadgeValue}</span>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Wishlistnavbutton;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,cAAc,KAAQ,iBAAiB,CAChD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,UAAU,CAAEC,WAAW,KAAQ,kBAAkB,CAE1D,MAAO,CAAAC,OAAO,KAAM,6BAA6B,CACjD,OAASC,kBAAkB,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpD,QAAS,CAAAC,iBAAiBA,CAAA,CAAG,CAC3B,KAAM,CAAAC,OAAO,CAAGX,UAAU,CAAC,CAAC,CAC5B,KAAM,CAAAY,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAY,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAgB,QAAQ,CAAGF,QAAQ,CAACG,QAAQ,GAAK,WAAW,CAElD,KAAM,CAAAC,gBAAgB,CAAGjB,WAAW,CACjCkB,KAAK,EAAKA,KAAK,CAACC,WAAW,CAACC,eAC/B,CAAC,CAED;AACAvB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAwB,YAAY,CAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CAAC,EAAI,CAAC,CACtEV,QAAQ,CACNV,kBAAkB,CAACqB,eAAe,CAAC,CACjCC,IAAI,CAAE,UAAU,CAChBC,KAAK,CAAEN,YACT,CAAC,CACH,CAAC,CACH,CAAC,CAAE,CAACP,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAc,YAAY,CAAGA,CAAA,GAAM,CACzBhB,OAAO,CAACiB,IAAI,CAAC,WAAW,CAAC,CAC3B,CAAC,CAED,mBACEnB,KAAA,CAAAF,SAAA,EAAAsB,QAAA,eACExB,IAAA,CAACR,cAAc,EACbiC,SAAS,CAAE,GACThB,QAAQ,CAAGZ,OAAO,CAAC,oBAAoB,CAAC,CAAGA,OAAO,CAAC6B,WAAW,EAC7D,CACHC,OAAO,CAAEL,YAAa,CACvB,CAAC,cACFtB,IAAA,SAAMyB,SAAS,CAAE5B,OAAO,CAAC,kBAAkB,CAAE,CAAA2B,QAAA,CAAEb,gBAAgB,CAAO,CAAC,EACvE,CAAC,CAEP,CAEA,cAAe,CAAAN,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}